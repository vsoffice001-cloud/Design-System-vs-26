@custom-variant dark (&:is(.dark *));

:root {
  --font-size: 16px;
  
  /* ========================================
     FONT FAMILY SYSTEM - Typeface Pairing
     ======================================== 
     
     PURPOSE: Two-font pairing system for editorial design.
     PRINCIPLE: Contrast through category (sans + serif), harmony through weight.
     
     DM Sans (Sans-Serif): Body text, UI elements, buttons, labels, navigation
     - Geometric, modern, highly readable at small sizes
     - Optical sizing (opsz 9-40) adapts automatically
     - Weights: 300 (light), 400 (body), 500 (medium/labels), 700 (bold/buttons)
     
     Noto Serif (Serif): Headings, display text, hero titles, editorial moments
     - Classic proportions, editorial authority
     - Used for h1-h3 section titles, testimonial quotes, large numbers
     - Weights: 300 (light/headings), 400 (normal), 500 (medium emphasis)
     
     PAIRING RULES:
     ✅ Serif headings + Sans body = Maximum contrast, editorial feel
     ✅ Sans labels + Serif display = Functional clarity + visual impact
     ✅ All UI chrome (buttons, badges, nav, forms) = ALWAYS Sans
     ✅ Code/data = System monospace stack
     ❌ NEVER use Serif for body text, buttons, labels, or navigation
     ❌ NEVER use Sans for hero headings or section titles
     ❌ NEVER mix more than 2 custom typefaces
     
     ======================================== */
  
  --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-serif: 'Noto Serif', Georgia, 'Times New Roman', serif;
  --font-mono: 'SF Mono', 'Fira Code', 'Fira Mono', 'Roboto Mono', monospace;
  
  /* ========================================
     LAYOUT CONTAINER SYSTEM - Max Widths
     ======================================== 
     
     PURPOSE: Consistent content width constraints for readability and visual rhythm.
     PRINCIPLE: Mobile-first, progressive enhancement. Narrower = more focused.
     
     CONTENT WIDTH HIERARCHY:
     1. --container-page (1200px)    → Outer page shell, full-width heros, navigation
     2. --container-content (1000px) → Standard section content, cards, grids
     3. --container-narrow (900px)   → Focused content: CTAs, testimonials, forms
     4. --container-prose (700px)    → Long-form text, paragraph measure (~65-75 chars)
     5. --container-compact (600px)  → Descriptions, methodology text, tight reading
     
     READABILITY LAW (Baymard Institute / UX research):
     - Optimal line length: 50-75 characters per line
     - At 16px body: ~700px = 65-70 chars (ideal)
     - At 20px body: ~600px = 55-60 chars (acceptable)
     - Never exceed 80 chars per line — causes reader fatigue
     
     RESPONSIVE PADDING SCALE (Mobile-First):
     - Mobile (0-639px):    16px (px-4)  — Edge-to-edge feel, maximum content area
     - Tablet (640-1023px): 24px (px-6)  — Breathing room, comfortable margins
     - Desktop (1024px+):   32px (px-8)  — Generous margins, editorial white space
     - Wide (1280px+):      Content centers via mx-auto, padding becomes decorative
     
     MOBILE-FIRST PRINCIPLES (UX Laws Applied):
     - Fitts's Law: Touch targets min 44px, generous tap spacing on mobile
     - Miller's Law: Reduce visible options on small screens (progressive disclosure)
     - Hick's Law: Simpler choices on mobile = faster decisions
     - Proximity: Tighter grouping on mobile to show relationships in limited space
     - Content stacking: 1-column below 640px, 2-col at 768px, multi-col at 1024px+
     
     ======================================== */
  
  --container-page: 75rem;       /* 1200px - Full page shell, hero backgrounds, navbar */
  --container-content: 62.5rem;  /* 1000px - Standard sections, card grids, main content */
  --container-narrow: 56.25rem;  /* 900px  - CTAs, testimonials, focused content */
  --container-prose: 43.75rem;   /* 700px  - Paragraph text, body copy measure */
  --container-compact: 37.5rem;  /* 600px  - Tight descriptions, methodology blurbs */
  
  /* Responsive Padding Tokens */
  --padding-mobile: 1rem;        /* 16px - Mobile horizontal padding */
  --padding-tablet: 1.5rem;      /* 24px - Tablet horizontal padding */
  --padding-desktop: 2rem;       /* 32px - Desktop horizontal padding */
  
  /* Section Vertical Spacing (Mobile-First) */
  --section-py-mobile: 3rem;     /* 48px - py-12 */
  --section-py-tablet: 4rem;     /* 64px - sm:py-16 */
  --section-py-desktop: 5rem;    /* 80px - md:py-20 */
  
  /* Section Composition Tokens (used by ResourcesSection, SectionHeader) */
  --section-py-standard: 3rem;           /* 48px mobile-first - matches py-12 */
  --section-header-mb: 3rem;             /* 48px - Gap after full section header block */
  --pair-label-heading: 0.75rem;         /* 12px - Gap between section label and heading */
  --pair-heading-description: 1rem;      /* 16px - Gap between heading and description */
  --text-measure: 43.75rem;             /* 700px - Max width for readable text blocks */
  
  /* Label Colors (section eyebrow labels on different backgrounds) */
  --label-on-black: rgba(255, 255, 255, 0.40);
  --label-on-white: rgba(0, 0, 0, 0.40);
  
  /* Semantic Text Colors (for section headers and body text) */
  --text-primary: #000000;              /* Primary text on light backgrounds */
  --text-secondary: rgba(0, 0, 0, 0.60); /* Secondary/description text on light backgrounds */
  
  /* Background Compositions */
  --bg-composition-warm-editorial: linear-gradient(180deg, #faf9f8 0%, #f5f2f1 40%, #faf9f8 100%);
  
  /* ========================================
     TYPOGRAPHY SCALE - Major Third (1.25 ratio)
     ======================================== 
     
     PURPOSE: Creates harmonious visual hierarchy through mathematical progression.
     RATIO: Each size is 1.25x the previous size (Major Third musical interval).
     BASE: 16px (1rem) - Standard readable body text size.
     
     USAGE GUIDELINES:
     - Use CSS variables for all standard typography
     - Hardcode only when spatial constraints or client specs require it
     - See FONT_SIZE_RATIONALE_ANALYSIS.md for detailed explanations
     
     UPDATED: January 2025 - Section headings changed from --text-3xl to --text-2xl
     
     ======================================== */
  
  --text-xs: 0.8rem;      /* 12.8px - Labels, metadata, categories, section eyebrows */
  --text-sm: 1rem;        /* 16px - Body text, descriptions, standard paragraphs */
  --text-base: 1.25rem;   /* 20px - Large body text, card titles (when 4+ cards) */
  --text-lg: 1.563rem;    /* 25px - Card titles (when 2-3 cards) */
  --text-xl: 1.953rem;    /* 31.25px - Subsection headings (h3), engagement objectives, methodology steps */
  --text-2xl: 2.441rem;   /* 39px - SECTION HEADINGS (h2) - NEW STANDARD for main sections */
  --text-3xl: 3.052rem;   /* 48.8px - Hero h1, Final CTA h2 - RESERVED for hero moments only */
  --text-4xl: 3.815rem;   /* 61px - Extra large headings (challenges card numbers when <4 cards) */
  --text-5xl: 4.768rem;   /* 76.3px - Massive headings (future use, rarely needed) */
  
  /* ========================================
     CUSTOM FONT SIZES (Outside Scale)
     ======================================== 
     
     These exist for specific use cases where the mathematical scale 
     doesn't provide the precise size needed for spatial/optical reasons.
     
     WHEN TO USE:
     ✅ Sidebar/narrow column layouts (Client Context)
     ✅ Preventing text wrapping in cards
     ✅ Client-specified pixel precision (Navbar)
     ✅ Creating micro-hierarchies within components
     
     WHEN NOT TO USE:
     ❌ Standard section headings (use --text-xl, --text-2xl, --text-3xl)
     ❌ Body paragraphs (use --text-sm)
     ❌ Section labels (use --text-xs)
     
     ======================================== */
  
  --text-2xs: 0.75rem;     /* 12px - Navbar text, micro labels (when 12.8px too large) */
  --text-compact: 0.875rem; /* 14px - Compact body text (challenges with 4+ cards) */
  --text-nav: 0.875rem;    /* 14px - Navigation elements (TOC items, compact CTAs, button text) */
  
  /* SECTION-SPECIFIC CUSTOM SIZES (documented inline in components):
   *
   * Client Context Sidebar:
   * - 9.5px: Micro labels (Client Company, Industry) - Sidebar constraint
   * - 13px: Secondary info, list numbers - Creates hierarchy
   * - 17px: Company name - Prevents wrapping
   * - clamp(19px, 2.8vw, 24px): Lead paragraph - Responsive editorial treatment
   * 
   * Impact Section:
   * - clamp(1.75rem, 5vw, 2.5rem): Metric values - Prevents wrapping of "₹110 Cr"
   * 
   * See component files for detailed rationale comments.
   */
  
  /* ========================================
     COLOR SYSTEM - Case Study Editorial
     ======================================== */
  
  /* ========================================
     PRIMARY BRAND COLORS
     ======================================== */
  
  /* Ken Bold Red - Primary Brand Color */
  --brand-red: #b01f24;
  --brand-red-hover: #8f181d;
  --brand-red-active: #771419;
  
  /* Ken Bold Red - Full Tints & Shades Scale */
  --red-50: #fef2f2;
  --red-100: #fee2e2;
  --red-200: #fecaca;
  --red-300: #fca5a7;
  --red-400: #f87176;
  --red-500: #dc3238;
  --red-600: #b01f24;
  --red-700: #8f181d;
  --red-800: #771419;
  --red-900: #5f1014;
  
  /* Black & White - Foundation */
  --black: #000000;
  --white: #ffffff;
  
  /* Black Tints (White mixed in) */
  --black-50: #fafafa;
  --black-100: #f5f5f5;
  --black-200: #e5e5e5;
  --black-300: #d4d4d4;
  --black-400: #a3a3a3;
  --black-500: #737373;
  --black-600: #525252;
  --black-700: #404040;
  --black-800: #262626;
  --black-900: #171717;
  --black: #000000;
  
  /* White Tints (Black mixed in) */
  --white: #ffffff;
  --white-900: #fafafa;
  --white-800: #f5f5f5;
  
  /* ========================================
     ACCENT COLORS - Strategic Use
     ======================================== */
  
  /* Color 1: Warm */
  --warm-50: #fefdfd;
  --warm-100: #fcfbfa;
  --warm-200: #f9f7f6;
  --warm-300: #f5f2f1;
  --warm-400: #f0ebe9;
  --warm-500: #eae5e3;
  --warm-600: #d9d1ce;
  --warm-700: #c8bcb8;
  --warm-800: #b7a9a3;
  --warm-900: #a6968e;
  
  /* Color 2: True V (Purple) */
  --purple-50: #f7f6fe;
  --purple-100: #efedfd;
  --purple-200: #dfdcfb;
  --purple-300: #c4bef7;
  --purple-400: #a89ff2;
  --purple-500: #9488ec;
  --purple-600: #806ce0;
  --purple-700: #6c5bc0;
  --purple-800: #5a4ba0;
  --purple-900: #483c80;
  
  /* Color 3: Periwinkle */
  --periwinkle-50: #fafbfe;
  --periwinkle-100: #f5f6fd;
  --periwinkle-200: #ebedfb;
  --periwinkle-300: #dfe1f9;
  --periwinkle-400: #d3d5f9;
  --periwinkle-500: #c3c6f9;
  --periwinkle-600: #a7abf0;
  --periwinkle-700: #8b90e0;
  --periwinkle-800: #7075c8;
  --periwinkle-900: #5a5fa0;
  
  /* Color 3.5: Coral/Terracotta */
  --coral-50: #fffbf9;
  --coral-100: #fff5f1;
  --coral-200: #ffebe4;
  --coral-300: #fdd7cb;
  --coral-400: #fbb8a7;
  --coral-500: #f99b85;
  --coral-600: #ea7a5f;
  --coral-700: #d96548;
  --coral-800: #c15138;
  --coral-900: #a23f2d;
  
  /* Color 4: Perano (Light Blue) */
  --perano-50: #fcfdfe;
  --perano-100: #f9fbfe;
  --perano-200: #f4f8fd;
  --perano-300: #eff5fc;
  --perano-400: #e9f2fb;
  --perano-500: #dfeafa;
  --perano-600: #c8dff5;
  --perano-700: #a7c9ed;
  --perano-800: #86b3e5;
  --perano-900: #6b94c0;
  
  /* ========================================
     UTILITY COLORS - Semantic States
     ======================================== */
  
  /* Color 7: Green - Success */
  --green-50: #ecfdf5;
  --green-100: #d1fae5;
  --green-200: #a7f3d0;
  --green-300: #6ee7b7;
  --green-400: #34d399;
  --green-500: #10b981;
  --green-600: #059669;
  --green-700: #047857;
  --green-800: #065f46;
  --green-900: #064e3b;
  
  /* Color 8: Amber - Warning */
  --amber-50: #fffbeb;
  --amber-100: #fef3c7;
  --amber-200: #fde68a;
  --amber-300: #fcd34d;
  --amber-400: #fbbf24;
  --amber-500: #f59e0b;
  --amber-600: #d97706;
  --amber-700: #b45309;
  --amber-800: #92400e;
  --amber-900: #78350f;
  
  /* Color 9: Rose - Error */
  --rose-50: #fff1f2;
  --rose-100: #ffe4e6;
  --rose-200: #fecdd3;
  --rose-300: #fda4af;
  --rose-400: #fb7185;
  --rose-500: #f43f5e;
  --rose-600: #e11d48;
  --rose-700: #be123c;
  --rose-800: #9f1239;
  --rose-900: #881337;

  /* ========================================
     LEGACY COLOR VARIABLES
     ======================================== */
  
  --bg-warm: #f5f2f1;
  --bg-warm-500: #eae5e3;
  --bg-warm-600: #d9d1ce;
  --bg-warm-700: #c8bcb8;
  --bg-pure-black: #000000;
  --bg-pure-white: #ffffff;
  
  /* ========================================
     TYPOGRAPHY DEFAULTS
     ======================================== */
  
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  
  /* ========================================
     BUTTON SIZE SYSTEM
     ======================================== */
  
  --button-height-sm: 2.5rem;
  --button-height-md: 3rem;
  --button-height-lg: 3.5rem;
  --button-height-xl: 4rem;
  --button-font-sm: 0.875rem;
  --button-font-md: 1rem;
  --button-font-lg: 1.125rem;
  --button-px-sm: 1.25rem;
  --button-px-md: 1.75rem;
  --button-px-lg: 2.25rem;
  --button-px-xl: 2.5rem;
  --button-py-sm: 0.625rem;
  --button-py-md: 0.875rem;
  --button-py-lg: 1rem;
  --button-min-width-sm: 5rem;
  --button-min-width-md: 7rem;
  --button-min-width-lg: 9rem;
  --brand-red: #b01f24;
  --brand-red-hover: #8f181d;
  --brand-red-active: #771419;

  /* ========================================
     BADGE SIZE & SHAPE SYSTEM
     ======================================== 
     
     PURPOSE: CSS custom properties for Badge component sizing, shape, and color.
     
     ARCHITECTURE (Phase 3 complete):
     - Size tokens (--badge-xs/sm/md/lg-*): Defined here, consumed by Badge.tsx
     - Shape tokens (--badge-radius-*): Defined here, consumed by CSS rules below
     - Color tokens (--badge-bg/text/border/etc): Set INLINE by Badge.tsx per-instance,
       consumed by CSS rules below. This keeps THEME_COLORS in JS (prop-driven)
       while CSS handles the actual property application + hover transitions.
     
     WHY INLINE CSS VARS FOR COLORS:
     Badge theme is a runtime prop decision (11 themes × 2 modes = 22 combos).
     Using inline --badge-* custom properties avoids 22 CSS selector blocks
     while still letting CSS own hover/transition/animation behavior.
     
     ======================================== */
  
  /* Badge Size: XS (info card labels) */
  --badge-xs-font: clamp(9px, 0.8vw, 10px);
  --badge-xs-py: 4px;
  --badge-xs-px: 12px;
  --badge-xs-tracking: 1.2px;
  
  /* Badge Size: SM (section labels, step pills — most common) */
  --badge-sm-font: var(--text-xs);  /* 12.8px — ties into typography scale */
  --badge-sm-py: 6px;
  --badge-sm-px: 14px;
  --badge-sm-tracking: 1.8px;
  
  /* Badge Size: MD (emphasized badges) */
  --badge-md-font: 13px;
  --badge-md-py: 8px;
  --badge-md-px: 18px;
  --badge-md-tracking: 2px;
  
  /* Badge Size: LG (large interactive badges) */
  --badge-lg-font: 15px;
  --badge-lg-py: 10px;
  --badge-lg-px: 22px;
  --badge-lg-tracking: 2.2px;
  
  /* Badge Variant Shapes */
  --badge-radius-minimal: 0px;
  --badge-radius-rounded: 5px;
  --badge-radius-pill: 9999px;
  
  /* Badge Animation */
  --badge-transition-duration: 300ms;
  --badge-shimmer-duration: 700ms;

  /* ========================================
     RESOURCE CARD TOKEN SYSTEM
     ======================================== 
     
     PURPOSE: Design tokens for ResourceCard component across 
     light and dark modes with default and bordered card styles.
     
     BORDER RADIUS RULES (Design System):
     - Images: 2.5px (--rc-radius-image)
     - Buttons/Badges: 5px
     - Big Cards: 10px (--rc-radius-card)
     
     MODE STRATEGY:
     - Dark mode: White text on dark/transparent backgrounds
     - Light mode: Dark text on white/warm backgrounds
     
     CARD STYLE STRATEGY:
     - Default: No border, no background, content floats on section bg
     - Bordered: Subtle container with border, frosted bg, inner padding
     
     WCAG COMPLIANCE:
     ✅ All text colors exceed 7:1 contrast (AAA normal text)
     ✅ Category/meta text exceeds 4.5:1 (AAA large text)
     
     ======================================== */

  --rc-radius-image: 2.5px;
  --rc-radius-card: 10px;
  --rc-radius-card-inner: 9px;
  --rc-aspect-ratio: 4 / 3;
  --rc-content-px: 1rem;
  --rc-content-pt: 1rem;
  --rc-content-pb: 1.25rem;
  --rc-image-mb: 1rem;
  --rc-meta-mb: 0.75rem;
  --rc-title-mb: 0.5rem;

  /* ── Dark Mode Tokens ── */
  --rc-dark-title: rgba(255, 255, 255, 1);
  --rc-dark-title-hover: rgba(255, 255, 255, 0.80);
  --rc-dark-category: rgba(255, 255, 255, 0.30);
  --rc-dark-date: rgba(255, 255, 255, 0.40);
  --rc-dark-description: rgba(255, 255, 255, 0.50);
  --rc-dark-description-hover: rgba(255, 255, 255, 0.60);
  --rc-dark-card-bg: rgba(255, 255, 255, 0.03);
  --rc-dark-card-border: rgba(255, 255, 255, 0.08);
  --rc-dark-card-border-hover: rgba(255, 255, 255, 0.16);
  --rc-dark-card-blur: 8px;
  --rc-dark-image-placeholder: rgba(255, 255, 255, 0.05);
  --rc-dark-focus-ring: rgba(255, 255, 255, 1);
  --rc-dark-focus-offset: rgba(0, 0, 0, 1);

  /* ── Light Mode Tokens ── */
  --rc-light-title: rgba(0, 0, 0, 0.90);
  --rc-light-title-hover: rgba(0, 0, 0, 0.70);
  --rc-light-category: #a6968e;
  --rc-light-date: rgba(0, 0, 0, 0.60);
  --rc-light-description: rgba(0, 0, 0, 0.70);
  --rc-light-description-hover: rgba(0, 0, 0, 0.90);
  --rc-light-card-bg: rgba(255, 255, 255, 0.70);
  --rc-light-card-border: rgba(0, 0, 0, 0.08);
  --rc-light-card-border-hover: rgba(0, 0, 0, 0.15);
  --rc-light-card-blur: 12px;
  --rc-light-image-placeholder: rgba(0, 0, 0, 0.04);
  --rc-light-focus-ring: #b01f24;
  --rc-light-focus-offset: rgba(255, 255, 255, 1);

  /* ── Badge Overlay (Universal) ── */
  --rc-badge-bg: rgba(0, 0, 0, 0.65);
  --rc-badge-blur: 24px;
  --rc-badge-border: rgba(255, 255, 255, 0.10);
  --rc-badge-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  --rc-badge-text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);

  /* ── Image Hover Overlay ── */
  --rc-image-overlay-hover: rgba(0, 0, 0, 0.20);
}

@layer base {
  html {
    font-size: var(--font-size);
    scroll-behavior: smooth;
  }

  body {
    @apply bg-white text-black;
    font-family: var(--font-sans);
  }

  /* Scroll margin for sections to account for fixed navbar */
  section[id],
  div[id] {
    scroll-margin-top: 120px;
  }

  /* ========================================
     RESPONSIVE CSS VARIABLE OVERRIDES
     ======================================== */
  
  @media (min-width: 640px) {
    :root {
      --section-py-standard: 4rem;
    }
  }
  
  @media (min-width: 768px) {
    :root {
      --section-py-standard: 5rem;
    }
  }

  /* ========================================
     CUSTOM ANIMATIONS
     ======================================== */
  
  @keyframes pulse-subtle {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
    }
  }
  
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  
  @keyframes ripple {
    0% { transform: scale(0); opacity: 0.6; }
    100% { transform: scale(2.5); opacity: 0; }
  }
  
  @keyframes shimmer-sweep {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  @keyframes pulse-ring {
    0% { box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.4); }
    70% { box-shadow: 0 0 0 8px rgba(0, 0, 0, 0); }
    100% { box-shadow: 0 0 0 0 rgba(0, 0, 0, 0); }
  }
  
  .animate-pulse-ring {
    animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* ========================================
     MOTION & ANIMATION SYSTEM
     ======================================== */

  @keyframes fade-in-scale {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  .animate-fade-in-scale {
    animation: fade-in-scale 300ms cubic-bezier(0, 0, 0.2, 1);
  }

  @keyframes bounce-once {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-25%); }
  }

  .animate-bounce-once {
    animation: bounce-once 500ms ease-in-out;
  }

  @keyframes bounce-subtle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10%); }
  }

  .animate-bounce-subtle {
    animation: bounce-subtle 1s ease-in-out 3;
  }

  @keyframes loading-bar {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(400%); }
  }

  .animate-loading-bar {
    animation: loading-bar 1.5s ease-in-out infinite;
  }

  /* ═════════════════════════════════════════════════════════════════════════
     BADGE SYSTEM - Color Application & Interactive States
     
     HOW THIS WORKS:
     Badge.tsx sets --badge-* CSS custom properties INLINE per instance.
     These CSS rules CONSUME those properties for base + hover states.
     This gives CSS full control of property application & transitions,
     while JS handles the theme/mode selection logic.
     
     PROPERTY FLOW:
     Badge.tsx inline style → sets --badge-bg, --badge-text, --badge-border, etc.
     CSS .badge rule → reads var(--badge-bg), var(--badge-text), etc.
     CSS .badge:hover rule → reads var(--badge-hover-bg), var(--badge-hover-border)
     ═════════════════════════════════════════════════════════════════════════ */

  /* Badge Base Color Application — consumes inline CSS custom properties */
  .badge {
    color: var(--badge-text);
    border-style: solid;
    border-color: var(--badge-border, transparent);
    border-width: var(--badge-border-width, 0px);
  }

  .badge:not(.badge-minimal) {
    background-color: var(--badge-bg, transparent);
  }

  /* Shimmer Animation - Premium 700ms (40% slower than standard) */
  .badge-shimmer {
    position: absolute;
    inset: 0;
    pointer-events: none;
    transform: translateX(-100%);
    z-index: 5;
    /* Shimmer gradient uses --badge-shimmer set by Badge.tsx */
    background: linear-gradient(90deg, 
      transparent 0%, 
      var(--badge-shimmer, rgba(255, 255, 255, 0.75)) 50%, 
      transparent 100%);
    width: 50%;
    height: 100%;
  }

  /* Direct badge hover - triggers shimmer on badge itself */
  .badge:hover .badge-shimmer {
    transform: translateX(200%);
    transition: transform var(--badge-shimmer-duration, 700ms) ease-out;
  }

  /* Parent hover triggers - for methodology cards, objective cards, step pills */
  .methodology-card:hover .badge-shimmer,
  .objective-card:hover .badge-shimmer,
  .step-pill:hover .badge-shimmer,
  .group:hover .badge-shimmer {
    transform: translateX(200%);
    transition: transform var(--badge-shimmer-duration, 700ms) ease-out;
  }

  /* Badge hover background/border transitions */
  .badge:not(.badge-minimal):hover {
    background-color: var(--badge-hover-bg);
    border-color: var(--badge-hover-border);
    transition: background-color var(--badge-transition-duration, 300ms) ease-out,
                border-color var(--badge-transition-duration, 300ms) ease-out;
  }

  /* Interactive badge hover states (clickable badges get scale effect) */
  .badge-interactive {
    cursor: pointer;
  }

  .badge-interactive:hover {
    transform: scale(1.02);
    background-color: var(--badge-hover-bg);
    border-color: var(--badge-hover-border);
  }

  .badge-interactive:active {
    transform: scale(0.98);
  }

  /* Badge variants ensure proper shape rendering */
  .badge-pill {
    border-radius: var(--badge-radius-pill, 9999px) !important;
  }

  .badge-rounded {
    border-radius: var(--badge-radius-rounded, 5px) !important;
  }

  .badge-minimal {
    border-radius: var(--badge-radius-minimal, 0) !important;
    background-color: transparent !important;
  }

  /* Accessibility - Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .badge-shimmer {
      transition: none !important;
      transform: translateX(-100%) !important;
    }
    
    .badge:hover .badge-shimmer,
    .methodology-card:hover .badge-shimmer,
    .objective-card:hover .badge-shimmer,
    .step-pill:hover .badge-shimmer,
    .group:hover .badge-shimmer {
      transform: translateX(-100%) !important;
    }

    .badge-interactive:hover {
      transform: none;
    }

    .badge-interactive:active {
      transform: none;
    }
  }

  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .badge-interactive:hover {
      outline: 2px solid currentColor;
      outline-offset: -2px;
    }
  }

  /* ========================================
     BADGE ICON ALIGNMENT
     ======================================== */

  .badge svg,
  .badge-xs svg { width: 12px; height: 12px; }
  .badge-sm svg { width: 14px; height: 14px; }
  .badge-md svg { width: 16px; height: 16px; }
  .badge-lg svg { width: 18px; height: 18px; }

  .badge svg {
    flex-shrink: 0;
  }
}
